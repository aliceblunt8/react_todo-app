(this["webpackJsonpreact_todo-app"]=this["webpackJsonpreact_todo-app"]||[]).push([[0],{16:function(e,t,n){e.exports=n(29)},26:function(e,t,n){},27:function(e,t,n){},28:function(e,t,n){},29:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),o=n(7),r=n.n(o),l=n(2),u=n(15),i=n(1),s=n(8),d={todos:[]},m=function(e){return e.todos},f=function(e,t){return{type:"UPDATE_TODO",todoId:e,title:t}},O=Object(s.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_TODOS":return Object(i.a)(Object(i.a)({},e),{},{todos:t.todos});case"ADD_TODO":return Object(i.a)(Object(i.a)({},e),{},{todos:[].concat(Object(u.a)(e.todos),[t.todo])});case"DELETE_TODO":return Object(i.a)(Object(i.a)({},e),{},{todos:e.todos.filter((function(e){return e.id!==t.todoId}))});case"UPDATE_TODO":return Object(i.a)(Object(i.a)({},e),{},{todos:e.todos.map((function(e){return e.id!==t.todoId?Object(i.a)({},e):t.title?Object(i.a)(Object(i.a)({},e),{},{title:t.title}):Object(i.a)(Object(i.a)({},e),{},{completed:!e.completed})}))});case"TOGGLE_TODOS":return Object(i.a)(Object(i.a)({},e),{},{todos:e.todos.map((function(e){return Object(i.a)(Object(i.a)({},e),{},{completed:t.checked})}))});case"CLEAR_COMPLETED":return Object(i.a)(Object(i.a)({},e),{},{todos:e.todos.filter((function(e){return!e.completed}))});default:return e}})),p=(n(26),n(27),n(28),n(5)),b=n(3),E=n.n(b),j=n(4),h=n.n(j),g=function(e){var t=e.todo,n=Object(a.useState)(!1),o=Object(p.a)(n,2),r=o[0],u=o[1],i=Object(a.useState)(t.title),s=Object(p.a)(i,2),d=s[0],m=s[1],O=Object(l.b)();return c.a.createElement("li",{className:h()({completed:t.completed},{editing:r}),onDoubleClick:function(){return u(!r)}},c.a.createElement("div",{className:"view"},c.a.createElement("input",{type:"checkbox",className:"toggle",checked:t.completed,onChange:function(){return O(f(t.id))}}),c.a.createElement("label",null,t.title),c.a.createElement("button",{type:"button",className:"destroy",onClick:function(){return O({type:"DELETE_TODO",todoId:t.id})}})),r&&c.a.createElement("input",{type:"text",className:"edit",autoFocus:!0,value:d,onChange:function(e){return m(e.target.value.trim())},onKeyUp:function(e){switch(e.key){case"Enter":d?O(f(t.id,d)):m(t.title),u(!1);break;case"Escape":u(!1),m(t.title)}},onBlur:function(){d?O(f(t.id,d)):m(t.title),u(!1)}}))},D=c.a.memo((function(e){var t=e.items;return c.a.createElement("ul",{className:"todo-list"},t.map((function(e){return c.a.createElement(g,{key:e.id,todo:e})})))}));D.propTypes={items:E.a.arrayOf(E.a.shape({id:E.a.number.isRequired,title:E.a.string.isRequired,completed:E.a.bool.isRequired})).isRequired};var y="all",N="active",T="completed",v=function(e){var t=e.handleFilter,n=e.selectedFilter;return c.a.createElement("ul",{className:"filters"},c.a.createElement("li",null,c.a.createElement("a",{href:"#/",className:h()({selected:n===y}),onClick:function(){return t(y)}},"All")),c.a.createElement("li",null,c.a.createElement("a",{href:"#/active",className:h()({selected:n===N}),onClick:function(){return t(N)}},"Active")),c.a.createElement("li",null,c.a.createElement("a",{href:"#/completed",className:h()({selected:n===T}),onClick:function(){return t(T)}},"Completed")))},k=function(){var e=Object(l.c)(m),t=Object(l.b)(),n=Object(a.useState)(""),o=Object(p.a)(n,2),r=o[0],u=o[1],i=Object(a.useState)("all"),s=Object(p.a)(i,2),d=s[0],f=s[1],O=Object(a.useMemo)((function(){return e.filter((function(e){return e.completed})).length}),[e]),b=Object(a.useMemo)((function(){return e.filter((function(e){return!e.completed})).length}),[e]);Object(a.useEffect)((function(){localStorage.todos?t(function(e){return{type:"SET_TODOS",todos:e}}(JSON.parse(localStorage.getItem("todos")))):localStorage.setItem("todos",JSON.stringify([]))}),[]),Object(a.useEffect)((function(){localStorage.setItem("todos",JSON.stringify(e))}),[e]);var E=Object(a.useMemo)((function(){return function(e,t){switch(t){case y:return e;case N:return e.filter((function(e){return!e.completed}));case T:return e.filter((function(e){return e.completed}));default:return"Error!"}}(e,d)}),[e,d]);return c.a.createElement("section",{className:"todoapp"},c.a.createElement("header",{className:"header"},c.a.createElement("h1",null,"todos"),c.a.createElement("form",{onSubmit:function(e){(e.preventDefault(),r)&&(t({type:"ADD_TODO",todo:{id:+new Date,title:r,completed:!1}}),u(""))}},c.a.createElement("input",{type:"text",className:"new-todo",placeholder:"What needs to be done?",value:r,onChange:function(e){return u(e.target.value.trimLeft())}}))),e.length>0&&c.a.createElement(c.a.Fragment,null,c.a.createElement("section",{className:"main"},c.a.createElement("input",{type:"checkbox",id:"toggle-all",className:"toggle-all",checked:0===b,onChange:function(e){return t({type:"TOGGLE_TODOS",checked:e.target.checked})}}),c.a.createElement("label",{htmlFor:"toggle-all"},"Mark all as complete"),c.a.createElement(D,{items:E})),c.a.createElement("footer",{className:"footer"},c.a.createElement("span",{className:"todo-count"},"".concat(b," items left")),c.a.createElement(v,{handleFilter:function(e){return f(e)},selectedFilter:d}),O>0&&c.a.createElement("button",{type:"button",className:"clear-completed",onClick:function(){return t({type:"CLEAR_COMPLETED"})}},"Clear completed"))))};r.a.render(c.a.createElement(l.a,{store:O},c.a.createElement(k,null)),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.6651d43a.chunk.js.map